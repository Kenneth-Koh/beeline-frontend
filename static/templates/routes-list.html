<ion-view class="routes-view" view-title={{disp.title}} hide-back-button="true">
  <ion-nav-buttons side="left">
    <menu-hamburger></menu-hamburger>
  </ion-nav-buttons>
  <ion-content scroll="false">
    <!-- Search Filter  -->
    <search-input query-text="data.queryText" is-filtering="data.isFiltering" ph="Search Routes" ng-if="!disp.yourRoutes"></search-input>
    <!-- Scrollable routes list -->
    <ion-content ng-class="{'routes-scroll': !disp.yourRoutes}">

      <ion-refresher
        pulling-text="Pull to refresh..."
        on-refresh="refreshRoutes(true)"
      ></ion-refresher>

      <ion-list>
        <!-- Error message if problem getting routes data -->
        <div class="item item-text-wrap" ng-if="error">
          <i class="icon ion-alert-circled"></i>
          There was a problem fetching the routes from the server.
          Please try again later and let us know at <!--email_off-->feedback@beeline.sg<!--/email_off--> if the problem persists.
        </div>
        <!-- repeat 5 times -->
        <ion-item ng-repeat="a in [1,2,3,4,5]" ng-if="!data.routesAvailable">
          <animated-route></animated-route>
        </ion-item>

        <!-- Your Routes list -->
        <div ng-if="disp.yourRoutes">
          <your-routes-list></your-routes-list>
        </div>

        <!-- Routes list -->
        <div ng-if="!disp.yourRoutes">
          <routes-list></routes-list>
        </div>
      </ion-list>

      <powered-by-beeline></powered-by-beeline>

      <!-- No results found message -->
      <p
        ng-if="data.routes.length === 0 &&
              data.liteRoutes.length === 0 &&
              data.crowdstartRoutes.length === 0 &&
              data.placeQuery"
        class="not-found-message text-center"
      >
        Sorry, we could not find any routes matching "{{data.queryText}}".
      </p>
    </ion-content>

  </ion-content>

</ion-view>
