<ion-view class="your-suggestion-detail" view-title="View Suggestion" hide-back-button="true">
  <ion-nav-buttons side="left">
    <button class="button button-clear back-button"
            ui-sref="tabs.your-suggestions"
            class="item-icon-right">
        <i class="icon ion-ios-arrow-back"></i>
    </button>
  </ion-nav-buttons>
  
  <ion-content>

    <ion-item class="item-text-wrap">
      <suggestion-item suggestion="data.suggestion"></suggestion-item>
    </ion-item>

    <div class="item-divider no-text"></div>

    <ion-item>
      <div ng-if="data.routes === null" class="loading-bar">
        <span class="header">Generating Route...</span>
        <progress-bar display-label="false" backer1="loadingBar.counter" pax1="loadingBar.timer"></progress-bar>
      </div>

      <span ng-if="data.routes.length === 0">No suggested routes found!</span>

      <div ng-if="data.routes.length > 0">
        <span class="header">{{ data.routes[0].id ? 'Crowdstart Route' : 'Generated route' }}</span>
        <crowdstart-route
          ng-repeat="route in data.routes" 
          route="route"
          ng-click="saveCrowdstartPreview(route)"
          ui-sref="tabs.crowdstart-detail({ routeId: route.id ? route.id : 'preview' })">
        </crowdstart-route>
      </div>
    </ion-item>

    <div class="action-link">
      <div on-tap="showSimilarRoutes()">View routes similar to suggestion</div>
      <div class="delete" on-tap="popupDeleteConfirmation()">Delete Suggestion</div>
    </div>

  </ion-content>
</ion-view>